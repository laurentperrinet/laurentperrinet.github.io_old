var algoliaConfig={analytics:!1,apiKey:"fef85bd52c221d066922d67c54a7968e",appId:"LTSUEMOTRB",indexName:"laurentperrinet",personalization:!1},content_type={authors:"Authors",event:"Events",post:"Posts",project:"Projects",publication:"Publications",slides:"Slides"},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"};import algoliasearch from"https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch.esm.browser.js";if(algoliaConfig.analytics){let e="https://cdn.jsdelivr.net/npm/search-insights@2.0.2/dist/search-insights.iife.min.js";!function(e,t,n,s,o,i,a){e.AlgoliaAnalyticsObject=o,e[o]=e[o]||function(){(e[o].queue=e[o].queue||[]).push(arguments)},i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script",e,"aa")}function getTemplate(e){return document.querySelector(`#${e}-template`).innerHTML}function getSearchQuery(e){return decodeURIComponent((location.search.split(e+"=")[1]||"").split("&")[0]).replace(/\+/g," ")}document.addEventListener("DOMContentLoaded",()=>{let e=getSearchQuery("q");if(e){$("body").addClass("searching"),$(".search-results").css({opacity:0,visibility:"visible"}).animate({opacity:1},200);let e=document.querySelector("#search-common-queries");e.style.display="none"}if(typeof instantsearch=="function"&&$("#search-box").length){const e=instantsearch({indexName:algoliaConfig.indexName,searchClient:algoliasearch(algoliaConfig.appId,algoliaConfig.apiKey),searchParameters:{clickAnalytics:algoliaConfig.analytics,enablePersonalization:algoliaConfig.personalization},searchFunction(e){e.state.query&&e.search()},routing:{router:instantsearch.routers.history({parseURL(){return{q:getSearchQuery("q")}}}),stateMapping:{stateToRoute(e){const t=e[algoliaConfig.indexName];return{q:t.query}},routeToState(e){return{[algoliaConfig.indexName]:{query:e.q}}}}}});let t=void 0,n=document.querySelector("#search-hits"),s=document.querySelector("#search-common-queries");if(e.addWidget(instantsearch.widgets.searchBox({container:"#search-box",autofocus:!0,showReset:!0,placeholder:i18n.placeholder,queryHook(e,o){e===""?(n.style.display="none",s.style.display="block"):(s.style.display="none",n.style.display="block"),t&&clearTimeout(t),t=setTimeout(()=>o(e),300)}})),e.addWidget(instantsearch.widgets.infiniteHits({container:"#search-hits",escapeHTML:!0,templates:{empty:'<div class="search-no-results">'+i18n.no_results+"</div>",item:getTemplate("search-hit-algolia")},cssClasses:{loadMore:"btn btn-outline-primary"}})),e.on("render",function(){$(".search-hit-type").each(function(){let e=$(this).text();e in content_type&&$(this).text(content_type[e])})}),algoliaConfig.analytics){const t=instantsearch.middlewares.createInsightsMiddleware({insightsClient:window.aa,insightsInitParams:{useCookie:!0}});e.use(t)}e.start()}})